"ğŸš§ STATUS: EXPERIMENTAL / LOOKING FOR NODES ğŸš§"

# P2P Network Skeleton

ĞšĞ°Ñ€ĞºĞ°Ñ Ğ´ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾Ğ¹ P2P-ÑĞµÑ‚Ğ¸ Ğ½Ğ¾Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾ĞºĞ¾Ğ»ĞµĞ½Ğ¸Ñ Ğ½Ğ° Python (asyncio).

## [ARCH] ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              Node (ÑƒĞ·ĞµĞ»)                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Identity   â”‚  â”‚  Transport   â”‚  â”‚   Protocol   â”‚  â”‚    Discovery     â”‚ â”‚
â”‚  â”‚  (Ed25519)   â”‚  â”‚  (NaCl Box)  â”‚  â”‚  (Ping-Pong) â”‚  â”‚  (Bloom+Gossip)  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Kademlia    â”‚  â”‚     NAT      â”‚  â”‚  Persistence â”‚  â”‚     Security     â”‚ â”‚
â”‚  â”‚    DHT       â”‚  â”‚  Traversal   â”‚  â”‚   Manager    â”‚  â”‚  (DoS Protect)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚   Ledger     â”‚  â”‚    Agents    â”‚  â”‚ PeerManager  â”‚  â”‚    Monitoring    â”‚ â”‚
â”‚  â”‚  (SQLite)    â”‚  â”‚  (Sandbox)   â”‚  â”‚              â”‚  â”‚  (Health+Metrics)â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚              P2P Network (Mesh)                 â”‚
           â”‚                                                 â”‚
           â”‚   [Node A] â—„â”€â”€â–º [Node B] â—„â”€â”€â–º [Node C]          â”‚
           â”‚       â–²              â–²              â–²           â”‚
           â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â”‚          Distributed AI Inference               â”‚
           â”‚                                                 â”‚
           â”‚   [Shard 0-16] â†’ [Shard 17-32] â†’ [Shard 33-48] â”‚
           â”‚    (Node A)       (Node B)        (Node C)      â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## [INSTALL] Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ°

```bash
# Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ¸Ñ€Ñ‚ÑƒĞ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ğ¾ĞºÑ€ÑƒĞ¶ĞµĞ½Ğ¸Ñ
python -m venv venv
source venv/bin/activate  # Linux/macOS
# Ğ¸Ğ»Ğ¸: venv\Scripts\activate  # Windows

# Ğ£ÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ° Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹
pip install -r requirements.txt
```

## [RUN] Ğ—Ğ°Ğ¿ÑƒÑĞº

### ĞŸĞµÑ€Ğ²Ñ‹Ğ¹ ÑƒĞ·ĞµĞ» (Bootstrap)

```bash
python main.py --port 8468
```

### ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğº ÑĞµÑ‚Ğ¸

```bash
# Ğ’Ñ‚Ğ¾Ñ€Ğ¾Ğ¹ ÑƒĞ·ĞµĞ»
python main.py --port 8469 --bootstrap 127.0.0.1:8468

# Ğ¢Ñ€ĞµÑ‚Ğ¸Ğ¹ ÑƒĞ·ĞµĞ»
python main.py --port 8470 --bootstrap 127.0.0.1:8468,127.0.0.1:8469
```

### ĞŸĞ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ½Ğ¾Ğ¹ ÑÑ‚Ñ€Ğ¾ĞºĞ¸

```
--port, -p      ĞŸĞ¾Ñ€Ñ‚ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾ÑĞ»ÑƒÑˆĞ¸Ğ²Ğ°Ğ½Ğ¸Ñ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: 8468)
--host, -H      ĞĞ´Ñ€ĞµÑ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¸Ğ²ÑĞ·ĞºĞ¸ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: 0.0.0.0)
--bootstrap, -b Bootstrap ÑƒĞ·Ğ»Ñ‹ (Ñ‡ĞµÑ€ĞµĞ· Ğ·Ğ°Ğ¿ÑÑ‚ÑƒÑ: host:port,host:port)
--identity, -i  ĞŸÑƒÑ‚ÑŒ Ğº Ñ„Ğ°Ğ¹Ğ»Ñƒ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: identity.key)
--db, -d        ĞŸÑƒÑ‚ÑŒ Ğº Ğ±Ğ°Ğ·Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… (Ğ¿Ğ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ: ledger.db)
--masking, -m   Ğ’ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒ HTTP-Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºÑƒ Ñ‚Ñ€Ğ°Ñ„Ğ¸ĞºĞ°
--no-shell      Ğ ĞµĞ¶Ğ¸Ğ¼ Ğ´ĞµĞ¼Ğ¾Ğ½Ğ° Ğ±ĞµĞ· Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğ¹ Ğ¾Ğ±Ğ¾Ğ»Ğ¾Ñ‡ĞºĞ¸
--verbose, -v   ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½Ğ¾Ğµ Ğ»Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ
```

### Ğ˜Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹

ĞŸĞ¾ÑĞ»Ğµ Ğ·Ğ°Ğ¿ÑƒÑĞºĞ° Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ñ‹:

```
peers           - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ‹Ñ… Ğ¿Ğ¸Ñ€Ğ¾Ğ²
known           - Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… (Ğ½Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ½Ñ‹Ñ…) Ğ¿Ğ¸Ñ€Ğ¾Ğ²
ping <node_id>  - ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ PING Ğ¿Ğ¸Ñ€Ñƒ
broadcast <msg> - ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµĞ¼ Ğ¿Ğ¸Ñ€Ğ°Ğ¼
stats           - Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° ÑƒĞ·Ğ»Ğ°
trust <node_id> - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ Trust Score Ğ¿Ğ¸Ñ€Ğ°
ledger          - Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ñ€ĞµĞµÑÑ‚Ñ€Ğ°
id              - ĞŸĞ¾ĞºĞ°Ğ·Ğ°Ñ‚ÑŒ ID ÑÑ‚Ğ¾Ğ³Ğ¾ ÑƒĞ·Ğ»Ğ°
help            - Ğ¡Ğ¿Ñ€Ğ°Ğ²ĞºĞ°
quit            - Ğ’Ñ‹Ñ…Ğ¾Ğ´
```

## [STRUCT] Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ°

```
â”œâ”€â”€ main.py                  # Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°
â”œâ”€â”€ config.py                # ĞšĞ¾Ğ½Ñ„Ğ¸Ğ³ÑƒÑ€Ğ°Ñ†Ğ¸Ñ
â”œâ”€â”€ requirements.txt         # Ğ—Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸
â”œâ”€â”€ Dockerfile               # Docker Ğ¾Ğ±Ñ€Ğ°Ğ·
â”œâ”€â”€ docker-compose.yml       # Multi-node setup
â”‚
â”œâ”€â”€ core/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ node.py              # ĞšĞ»Ğ°ÑÑ Node, TCP ÑĞµÑ€Ğ²ĞµÑ€
â”‚   â”œâ”€â”€ transport.py         # Ğ¨Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (PyNaCl), HTTP-Ğ¼Ğ°ÑĞºĞ¸Ñ€Ğ¾Ğ²ĞºĞ°
â”‚   â”œâ”€â”€ protocol.py          # Ping-Pong, Ñ‚Ğ¸Ğ¿Ñ‹ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
â”‚   â”œâ”€â”€ discovery.py         # Bloom filter, Gossip Ñ TTL
â”‚   â”‚
â”‚   â”œâ”€â”€ dht/                 # [NEW] Kademlia DHT
â”‚   â”‚   â”œâ”€â”€ routing.py       # K-buckets, XOR-Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°
â”‚   â”‚   â”œâ”€â”€ storage.py       # Key-Value Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
â”‚   â”‚   â””â”€â”€ protocol.py      # FIND_NODE, FIND_VALUE, STORE
â”‚   â”‚
â”‚   â”œâ”€â”€ nat/                 # [NEW] NAT Traversal
â”‚   â”‚   â”œâ”€â”€ stun.py          # STUN ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚   â”‚   â”œâ”€â”€ hole_punch.py    # UDP/TCP hole punching
â”‚   â”‚   â”œâ”€â”€ relay.py         # P2P Relay ÑĞµÑ€Ğ²ĞµÑ€
â”‚   â”‚   â”œâ”€â”€ ice.py           # ICE Agent
â”‚   â”‚   â””â”€â”€ candidates.py    # Candidate gathering
â”‚   â”‚
â”‚   â”œâ”€â”€ persistence/         # [NEW] Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
â”‚   â”‚   â”œâ”€â”€ state_manager.py # Ğ¡ĞµÑ€Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ
â”‚   â”‚   â””â”€â”€ peer_store.py    # Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¸Ñ€Ğ¾Ğ²
â”‚   â”‚
â”‚   â”œâ”€â”€ security/            # [NEW] Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ° Ğ¾Ñ‚ Ğ°Ñ‚Ğ°Ğº
â”‚   â”‚   â”œâ”€â”€ rate_limiter.py  # Token bucket
â”‚   â”‚   â””â”€â”€ dos_protector.py # DoS/DDoS Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°
â”‚   â”‚
â”‚   â””â”€â”€ monitoring/          # [NEW] ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³
â”‚       â”œâ”€â”€ health.py        # Health checks (K8s ready)
â”‚       â””â”€â”€ metrics.py       # Prometheus Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸
â”‚
â”œâ”€â”€ economy/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ ledger.py            # SQLite, Trust Score, IOU
â”‚
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ manager.py           # RestrictedPython sandbox
â”‚   â”œâ”€â”€ ai_assistant.py      # [NEW] OpenAI-compatible API
â”‚   â”œâ”€â”€ local_llm.py         # [NEW] Ollama Ğ°Ğ³ĞµĞ½Ñ‚
â”‚   â”œâ”€â”€ web_reader.py        # [NEW] Web scraper
â”‚   â”œâ”€â”€ distributed_agent.py # [NEW] Distributed LLM
â”‚   â”‚
â”‚   â””â”€â”€ distributed/         # [NEW] Pipeline Parallelism
â”‚       â”œâ”€â”€ registry.py      # DHT Ñ€ĞµĞµÑÑ‚Ñ€ Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹
â”‚       â”œâ”€â”€ shard.py         # Model shard
â”‚       â”œâ”€â”€ worker.py        # GPU worker
â”‚       â”œâ”€â”€ pipeline.py      # Pipeline ĞºĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ‚Ğ¾Ñ€
â”‚       â””â”€â”€ client.py        # Inference ĞºĞ»Ğ¸ĞµĞ½Ñ‚
â”‚
â””â”€â”€ webui/                   # [NEW] Web Interface
    â””â”€â”€ app.py               # NiceGUI Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ
```

## [DHT] Kademlia DHT

Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ğ°Ñ Ñ…ĞµÑˆ-Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğ° Ğ´Ğ»Ñ Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ² ÑĞµÑ‚Ğ¸.

### ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹

- **XOR-Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ°**: Ğ Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑƒĞ·Ğ»Ğ°Ğ¼Ğ¸ = XOR Ğ¸Ñ… ID
- **K-buckets**: 160 ĞºĞ¾Ñ€Ğ·Ğ¸Ğ½ (Ğ¿Ğ¾ Ğ±Ğ¸Ñ‚Ğ°Ğ¼ Ñ€Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ), k=20 ÑƒĞ·Ğ»Ğ¾Ğ² Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¹
- **Ğ˜Ñ‚ĞµÑ€Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ lookup**: Alpha=3 Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ñ… Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ°
- **Republish**: Ğ”Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¿ĞµÑ€Ğ¸Ğ¾Ğ´Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ¿ĞµÑ€ĞµĞ¾Ğ¿ÑƒĞ±Ğ»Ğ¸ĞºÑƒÑÑ‚ÑÑ

### ĞĞ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸

```python
from core.dht import RoutingTable, DHTProtocol, DHTStorage

# Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
await kademlia.put("my_key", b"my_value")

# ĞŸĞ¾Ğ»ÑƒÑ‡Ğ¸Ñ‚ÑŒ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ
value = await kademlia.get("my_key")

# ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ±Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞ¸Ğµ ÑƒĞ·Ğ»Ñ‹
nodes = await kademlia.find_node(target_id)
```

### Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Routing Table                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Bucket 0: [nodes at distance 2^0]      â”‚
â”‚  Bucket 1: [nodes at distance 2^1]      â”‚
â”‚  ...                                    â”‚
â”‚  Bucket 159: [nodes at distance 2^159]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## [NAT] NAT Traversal

ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑƒĞ·Ğ»Ğ¾Ğ² Ğ·Ğ° NAT Ğ±ĞµĞ· Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°.

### Ğ¢Ğ¸Ğ¿Ñ‹ NAT

| Ğ¢Ğ¸Ğ¿ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ | Hole Punch |
|-----|----------|------------|
| Full Cone | Ğ›ÑĞ±Ğ¾Ğ¹ Ğ²Ğ½ĞµÑˆĞ½Ğ¸Ğ¹ Ñ…Ğ¾ÑÑ‚ Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ğ°ĞºĞµÑ‚ | [OK] Ğ›ĞµĞ³ĞºĞ¾ |
| Restricted Cone | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ…Ğ¾ÑÑ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼ Ğ¼Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞ»Ğ¸ | [OK] Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ |
| Port Restricted | Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ñ…Ğ¾ÑÑ‚Ñ‹+Ğ¿Ğ¾Ñ€Ñ‚Ñ‹, ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ğ¼ Ğ¼Ñ‹ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ»ÑĞ»Ğ¸ | [OK] Ğ¡Ğ»Ğ¾Ğ¶Ğ½ĞµĞµ |
| Symmetric | Ğ Ğ°Ğ·Ğ½Ñ‹Ğ¹ mapping Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ destination | [FAIL] ĞÑƒĞ¶ĞµĞ½ Relay |

### ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ

1. **Direct** - ĞĞ±Ğ° ÑƒĞ·Ğ»Ğ° Ğ¸Ğ¼ĞµÑÑ‚ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ IP
2. **Hole Punch** - UDP hole punching, Ğ·Ğ°Ñ‚ĞµĞ¼ TCP
3. **P2P Relay** - Ğ§ĞµÑ€ĞµĞ· ÑƒĞ·ĞµĞ» Ñ Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¼ IP (Ğ½Ğµ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€!)

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```python
from core.nat import STUNClient, ICEAgent, HolePuncher

# ĞĞ¿Ñ€ĞµĞ´ĞµĞ»Ğ¸Ñ‚ÑŒ Ñ‚Ğ¸Ğ¿ NAT
stun = STUNClient()
nat_type, public_addr = await stun.discover()

# ICE Ğ´Ğ»Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºĞ¸ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ
ice = ICEAgent(node)
connection = await ice.connect(peer_id)
```

## [PERSISTENCE] Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ

Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ ÑƒĞ·Ğ»Ğ° Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°.

### Ğ§Ñ‚Ğ¾ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ

- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… Ğ¿Ğ¸Ñ€Ğ¾Ğ² (IP, Ğ¿Ğ¾Ñ€Ñ‚, node_id, last_seen)
- DHT routing table
- Ğ‘Ğ°Ğ»Ğ°Ğ½ÑÑ‹ Ğ¸ Trust Score
- ĞĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ ÑĞµÑÑĞ¸Ğ¸

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```python
from core.persistence import StateManager, PeerStore

# Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ
state_manager = StateManager("./data")
await state_manager.save_state(node)

# Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¸Ğµ
await state_manager.load_state(node)
```

## [SECURITY] Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾ÑÑ‚ÑŒ

### ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ

- **Ğ˜Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ**: Ed25519 ĞºĞ»ÑÑ‡ĞµĞ²Ğ°Ñ Ğ¿Ğ°Ñ€Ğ° (Ñ‡ĞµÑ€ĞµĞ· PyNaCl)
- **ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑĞ¸**: Ed25519 Ğ´Ğ»Ñ Ğ²ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹
- **Ğ¨Ğ¸Ñ„Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ**: NaCl Box (Curve25519 + XSalsa20 + Poly1305)

### Ping-Pong Ğ¿Ñ€Ğ¾Ñ‚Ğ¾ĞºĞ¾Ğ»

```
[Node A]                    [Node B]
   â”‚                           â”‚
   â”‚  PING (nonce + signature) â”‚
   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚
   â”‚                           â”‚ Verify signature
   â”‚                           â”‚ Check timestamp
   â”‚  PONG (original_nonce)    â”‚
   â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
   â”‚                           â”‚
   â”‚ Verify PONG signature     â”‚
   â”‚ Verify nonce matches      â”‚
```

### DoS Protection

```python
from core.security import RateLimiter, DoSProtector

# Rate limiter
limiter = RateLimiter(rules=[
    RateLimitRule(requests=100, period=60),   # 100 req/min
    RateLimitRule(requests=1000, period=3600), # 1000 req/hour
])

# DoS protector
protector = DoSProtector()
threat = protector.analyze(peer_id, message)
if threat.level == ThreatLevel.HIGH:
    await protector.ban(peer_id, duration=3600)
```

### ĞŸĞµÑĞ¾Ñ‡Ğ½Ğ¸Ñ†Ğ° (Sandbox)

ĞšĞ¾Ğ½Ñ‚Ñ€Ğ°ĞºÑ‚Ñ‹ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑÑ‚ÑÑ Ğ² RestrictedPython Ñ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸:
- Ğ‘ĞµĞ»Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ñ‹Ñ… Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹
- ĞĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ° Ğº Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²Ğ¾Ğ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ğµ
- ĞĞµÑ‚ ÑĞµÑ‚ĞµĞ²Ñ‹Ñ… Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¹
- Ğ›Ğ¸Ğ¼Ğ¸Ñ‚ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ (5 ÑĞµĞº)
- Ğ›Ğ¸Ğ¼Ğ¸Ñ‚ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° ĞºĞ¾Ğ´Ğ° (64 ĞšĞ‘)

## [MONITORING] ĞœĞ¾Ğ½Ğ¸Ñ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³

### Health Checks

```python
from core.monitoring import HealthChecker, HealthStatus

health = HealthChecker(node, ledger, kademlia)
status = await health.check_all()

# Ğ”Ğ»Ñ Kubernetes liveness/readiness probes
# GET /health -> {"status": "healthy", "components": {...}}
```

### ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ¸

```python
from core.monitoring import MetricsCollector, Counter, Gauge

metrics = MetricsCollector()

# Ğ¡Ñ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¸
messages_sent = metrics.counter("messages_sent_total")
messages_sent.inc()

# Gauges
peers_connected = metrics.gauge("peers_connected")
peers_connected.set(len(node.peers))

# Prometheus Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚
# GET /metrics -> peers_connected 5\nmessages_sent_total 1234
```

## [DISCOVERY] Ğ£Ğ»ÑƒÑ‡ÑˆĞµĞ½Ğ½Ñ‹Ğ¹ Discovery

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ»Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… ÑĞµÑ‚ĞµĞ¹

| ĞœĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| **Bloom Filter** | Ğ’ĞµÑ€Ğ¾ÑÑ‚Ğ½Ğ¾ÑÑ‚Ğ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ° Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ñ… ÑƒĞ·Ğ»Ğ¾Ğ² (1% false positive) |
| **Exponential Backoff** | Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞµĞ½Ğ¸Ğµ Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ñ‹ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² Ğ¿Ñ€Ğ¸ Ğ½ĞµÑƒĞ´Ğ°Ñ‡Ğ°Ñ… |
| **TTL Gossip** | ĞĞ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ğµ Ğ³Ğ»ÑƒĞ±Ğ¸Ğ½Ñ‹ Ñ€Ğ°ÑĞ¿Ñ€Ğ¾ÑÑ‚Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ñ (TTL=3) |
| **Trust Priority** | ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ÑƒĞ·Ğ»Ğ¾Ğ² Ğ¿Ğ¾ Trust Score |

```python
from core.discovery import OptimizedDiscovery, BloomFilter

discovery = OptimizedDiscovery(node, ledger)
await discovery.start()

# Gossip Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸:
# - ĞĞ±Ğ¼ĞµĞ½Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ ÑĞ¿Ğ¸ÑĞºĞ°Ğ¼Ğ¸ Ğ¿Ğ¸Ñ€Ğ¾Ğ² ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 30 ÑĞµĞº
# - Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚ Ğ¸Ğ·Ğ²ĞµÑÑ‚Ğ½Ñ‹Ğµ ÑƒĞ·Ğ»Ñ‹ Ñ‡ĞµÑ€ĞµĞ· Bloom filter
# - ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ ÑƒĞ·Ğ»Ñ‹ Ñ Ğ²Ñ‹ÑĞ¾ĞºĞ¸Ğ¼ Trust Score
```

## [DISTRIBUTED] Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğ¹ AI Ğ˜Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ

Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ĞµĞ¹ (70B+) Ñ‡ĞµÑ€ĞµĞ· P2P ÑĞµÑ‚ÑŒ.

### ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Client   â”‚â”€â”€â”€â–ºâ”‚  Shard 0   â”‚â”€â”€â”€â–ºâ”‚  Shard 1   â”‚â”€â”€â”€â–ºâ”‚  Shard 2   â”‚
â”‚ (tokenize) â”‚    â”‚ Layers 0-16â”‚    â”‚Layers 17-32â”‚    â”‚Layers 33-48â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       GPU A             GPU B             GPU C
```

### ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚Ñ‹

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-----------|----------|
| **ModelRegistry** | DHT Ñ€ĞµĞµÑÑ‚Ñ€ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ñ… shards |
| **ModelShard** | Ğ§Ğ°ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ (Ğ´Ğ¸Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½ ÑĞ»Ğ¾Ñ‘Ğ²) |
| **InferenceWorker** | GPU Ğ²Ğ¾Ñ€ĞºĞµÑ€ Ğ´Ğ»Ñ Ğ¸Ğ½Ñ„ĞµÑ€ĞµĞ½ÑĞ° |
| **PipelineCoordinator** | ĞšĞ¾Ğ¾Ñ€Ğ´Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ pipeline |
| **DistributedClient** | ĞšĞ»Ğ¸ĞµĞ½Ñ‚ Ğ´Ğ»Ñ Ğ·Ğ°Ğ¿Ñ€Ğ¾ÑĞ¾Ğ² |

### Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ

```python
from agents.distributed import (
    DistributedInferenceClient,
    ModelRegistry,
    InferenceWorker,
)

# ĞĞ° GPU ÑƒĞ·Ğ»Ğµ: Ğ·Ğ°Ğ¿ÑƒÑĞº Ğ²Ğ¾Ñ€ĞºĞµÑ€Ğ°
worker = InferenceWorker(
    model_name="qwen2.5-32b",
    layer_start=0,
    layer_end=16,
)
await worker.start()

# ĞĞ° ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğµ: Ğ¸Ğ½Ñ„ĞµÑ€ĞµĞ½Ñ
client = DistributedInferenceClient(node, registry)
result = await client.generate(
    model="qwen2.5-32b",
    prompt="Explain quantum computing",
    max_tokens=100,
)
```

### Fault Tolerance

- ĞĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ ÑƒĞ·Ğ»Ğ¾Ğ² Ğ¼Ğ¾Ğ³ÑƒÑ‚ Ğ¾Ğ±ÑĞ»ÑƒĞ¶Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¾Ğ´Ğ¸Ğ½ shard
- ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¾Ğµ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚ĞºĞ°Ğ·Ğµ
- Health checks Ñ‡ĞµÑ€ĞµĞ· DHT

## [AGENTS] AI ĞĞ³ĞµĞ½Ñ‚Ñ‹

### Ğ”Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ñ‹Ğµ Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹

| ĞĞ³ĞµĞ½Ñ‚ | Ğ¡ĞµÑ€Ğ²Ğ¸Ñ | Ğ¦ĞµĞ½Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-------|--------|------|----------|
| `LlmAgent` | `llm_prompt` | 50 | OpenAI-compatible API (GPT-4o-mini) |
| `OllamaAgent` | `llm_local` | 30 | Ğ›Ğ¾ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ollama (qwen3:32b) |
| `DistributedLlmAgent` | `llm_distributed` | 20 | Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»Ñ‘Ğ½Ğ½Ñ‹Ğ¹ Ñ‡ĞµÑ€ĞµĞ· P2P |
| `ReaderAgent` | `web_read` | 10 | Ğ§Ñ‚ĞµĞ½Ğ¸Ğµ Ğ²ĞµĞ±-ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ† |
| `EchoAgent` | `echo` | 1 | Ğ­Ñ…Ğ¾ (Ğ´Ğ»Ñ Ñ‚ĞµÑÑ‚Ğ¾Ğ²) |

### ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

```python
from agents.ai_assistant import LlmAgent
from agents.local_llm import OllamaAgent

# Cloud LLM
cloud = LlmAgent(api_key="sk-...")
result, cost = await cloud.execute({
    "prompt": "What is the meaning of life?",
})

# Local Ollama
ollama = OllamaAgent(model_name="qwen3:32b")
result, cost = await ollama.execute("Explain P2P networks")
```

## [WEBUI] Web Interface

NiceGUI Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ´Ğ»Ñ ÑƒĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ñ ÑƒĞ·Ğ»Ğ¾Ğ¼.

### Ğ—Ğ°Ğ¿ÑƒÑĞº

```python
from webui.app import P2PWebUI

webui = P2PWebUI(node, ledger, agent_manager, kademlia)
webui.run_sync(host="0.0.0.0", port=8080)
```

### Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹

| Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|----------|----------|
| `/` | Dashboard - ÑÑ‚Ğ°Ñ‚ÑƒÑ ÑƒĞ·Ğ»Ğ°, Ğ¿Ğ¸Ñ€Ñ‹, ÑƒÑĞ»ÑƒĞ³Ğ¸ |
| `/peers` | Ğ£Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸ÑĞ¼Ğ¸ |
| `/services` | Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¸ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ÑƒÑĞ»ÑƒĞ³ |
| `/ai` | Ğ§Ğ°Ñ‚ Ñ AI (Cloud/Local/Distributed) |
| `/dht` | DHT Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ (put/get/delete) |
| `/economy` | Ğ‘Ğ°Ğ»Ğ°Ğ½ÑÑ‹ Ğ¸ Ñ‚Ñ€Ğ°Ğ½Ğ·Ğ°ĞºÑ†Ğ¸Ğ¸ |
| `/storage` | Ğ¥Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ² |
| `/compute` | Ğ’Ñ‹Ñ‡Ğ¸ÑĞ»ĞµĞ½Ğ¸Ñ (eval, hash) |
| `/settings` | ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ ÑƒĞ·Ğ»Ğ° |
| `/logs` | Ğ›Ğ¾Ğ³Ğ¸ Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾Ğ¼ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ |

## [DOCKER] ĞšĞ¾Ğ½Ñ‚ĞµĞ¹Ğ½ĞµÑ€Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ

### Ğ—Ğ°Ğ¿ÑƒÑĞº Ğ¾Ğ´Ğ½Ğ¾Ğ³Ğ¾ ÑƒĞ·Ğ»Ğ°

```bash
docker build -t p2p-node .
docker run -p 8468:8468 p2p-node
```

### Multi-node Ñ Docker Compose

```bash
docker-compose up -d

# Node A: Ğ¿Ğ¾Ñ€Ñ‚ 8000 (bootstrap)
# Node B: Ğ¿Ğ¾Ñ€Ñ‚ 8001 (Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ÑÑ Ğº Node A)
```

### docker-compose.yml

```yaml
services:
  node-a:
    build: .
    ports:
      - "8000:8000"
    environment:
      - PORT=8000
      - NODE_NAME=Alpha

  node-b:
    build: .
    ports:
      - "8001:8001"
    command: python main.py --port 8001 --bootstrap node-a:8000
    depends_on:
      - node-a
```

## [DECENTRALIZATION] ĞŸÑ€Ğ¸Ğ½Ñ†Ğ¸Ğ¿Ñ‹ Ğ´ĞµÑ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### 1. ĞĞµÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞµÑ€Ğ²ĞµÑ€Ğ°

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑƒĞ·ĞµĞ» Ñ€Ğ°Ğ²Ğ½Ğ¾Ğ¿Ñ€Ğ°Ğ²ĞµĞ½. Bootstrap-ÑƒĞ·Ğ»Ñ‹ Ğ½ÑƒĞ¶Ğ½Ñ‹ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ñ.

### 2. ĞšÑ€Ğ¸Ğ¿Ñ‚Ğ¾Ğ³Ñ€Ğ°Ñ„Ğ¸Ñ‡ĞµÑĞºĞ°Ñ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ

Ğ£Ğ·ĞµĞ» = Ğ¿ÑƒĞ±Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğ¹ ĞºĞ»ÑÑ‡. ĞĞµÑ‚ Ñ†ĞµĞ½Ñ‚Ñ€Ğ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸.

```python
# Ğ“ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ Ğ½Ğ¾Ğ²Ğ¾Ğ¹ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸
from core.transport import Crypto
crypto = Crypto()
print(f"Node ID: {crypto.node_id}")
```

### 3. Ğ’ĞµÑ€Ğ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ñ Ğ²ÑĞµÑ… ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹

ĞšĞ°Ğ¶Ğ´Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ĞµĞ»ĞµĞ¼ Ğ¸ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµÑ‚ÑÑ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ĞµĞ»ĞµĞ¼.

### 4. Ğ Ğ°ÑĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ½Ñ‹Ğ¹ Ñ€ĞµĞµÑÑ‚Ñ€

ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑƒĞ·ĞµĞ» Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ ÑĞ²Ğ¾Ñ ĞºĞ¾Ğ¿Ğ¸Ñ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…. Ğ¡Ğ¾Ğ³Ğ»Ğ°ÑĞ¾Ğ²Ğ°Ğ½Ğ½Ğ¾ÑÑ‚ÑŒ Ñ‡ĞµÑ€ĞµĞ· Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¸.

### 5. Trust Score

Ğ ĞµĞ¿ÑƒÑ‚Ğ°Ñ†Ğ¸Ñ ÑÑ‚Ñ€Ğ¾Ğ¸Ñ‚ÑÑ Ğ½Ğ° Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ğ¸, Ğ° Ğ½Ğµ Ğ½Ğ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸.

```python
# Ğ¡Ğ¾Ğ±Ñ‹Ñ‚Ğ¸Ñ, Ğ²Ğ»Ğ¸ÑÑÑ‰Ğ¸Ğµ Ğ½Ğ° Trust Score
"successful_transfer": +0.01
"failed_transfer": -0.05
"valid_message": +0.001
"invalid_message": -0.02
"iou_redeemed": +0.02
"iou_defaulted": -0.1
```

## [ECONOMY] Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸ĞºĞ° ÑĞµÑ‚Ğ¸

### IOU (Ğ´Ğ¾Ğ»Ğ³Ğ¾Ğ²Ñ‹Ğµ Ñ€Ğ°ÑĞ¿Ğ¸ÑĞºĞ¸)

```python
from economy.ledger import Ledger, IOU

ledger = Ledger()
await ledger.initialize()

# Ğ£Ğ·ĞµĞ» B Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ ÑƒĞ·Ğ»Ñƒ A 10 ĞºÑ€ĞµĞ´Ğ¸Ñ‚Ğ¾Ğ²
iou = await ledger.create_iou(
    debtor_id=node_b_id,
    creditor_id=node_a_id,
    amount=10.0,
    signature=signature_from_node_b,
)

# ĞŸĞ¾Ğ³Ğ°ÑˆĞµĞ½Ğ¸Ğµ IOU
success = await ledger.redeem_iou(iou.id)
```

## [API] ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ½Ñ‹Ğ¹ Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ

### Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ ÑƒĞ·Ğ»Ğ°

```python
import asyncio
from core.node import Node
from core.transport import Crypto

async def main():
    crypto = Crypto()
    node = Node(crypto=crypto, port=8468)
    
    async def on_peer(peer):
        print(f"Peer connected: {peer.node_id[:16]}...")
    
    node.on_peer_connected(on_peer)
    await node.start()
    
    # ĞŸĞ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ÑÑ Ğº Ğ´Ñ€ÑƒĞ³Ğ¾Ğ¼Ñƒ ÑƒĞ·Ğ»Ñƒ
    peer = await node.connect_to_peer("127.0.0.1", 8469)
    
    # Broadcast ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
    from core.transport import Message, MessageType
    msg = Message(
        type=MessageType.DATA,
        payload={"text": "Hello network!"},
        sender_id=crypto.node_id,
    )
    count = await node.broadcast(msg)
    print(f"Sent to {count} peers")
    
    await node.stop()

asyncio.run(main())
```

## [LIMITS] Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¾Ğ³Ñ€Ğ°Ğ½Ğ¸Ñ‡ĞµĞ½Ğ¸Ñ

| ĞšĞ¾Ğ¼Ğ¿Ğ¾Ğ½ĞµĞ½Ñ‚ | Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ | ĞšĞ¾Ğ¼Ğ¼ĞµĞ½Ñ‚Ğ°Ñ€Ğ¸Ğ¹ |
|-----------|--------|-------------|
| Discovery | [OK] | ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½ Ñ Bloom filter Ğ¸ TTL |
| NAT Traversal | [OK] | STUN, Hole Punch, P2P Relay, ICE |
| Kademlia DHT | [OK] | ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ |
| Persistence | [OK] | Ğ¡Ğ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ÑĞµÑ‚ÑÑ Ğ¼ĞµĞ¶Ğ´Ñƒ Ğ¿ĞµÑ€ĞµĞ·Ğ°Ğ¿ÑƒÑĞºĞ°Ğ¼Ğ¸ |
| Rate Limiting | [OK] | Token bucket + DoS protection |
| WebRTC | [PENDING] | ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ ĞºĞ°Ğº Ğ°Ğ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ |
| Tor/I2P | [PENDING] | Ğ”Ğ»Ñ Ğ°Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ğ¾ÑÑ‚Ğ¸ |
| Mobile | [PENDING] | ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ |

## [TODO] Ğ’Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ñ‹Ğµ ÑƒĞ»ÑƒÑ‡ÑˆĞµĞ½Ğ¸Ñ

- [ ] WebRTC Ñ‚Ñ€Ğ°Ğ½ÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ»Ñ Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğ½Ñ‹Ñ… ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ²
- [ ] Tor/I2P Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ñ Ğ´Ğ»Ñ Ğ°Ğ½Ğ¾Ğ½Ğ¸Ğ¼Ğ½Ğ¾ÑÑ‚Ğ¸
- [ ] ĞœĞ¾Ğ±Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ ĞºĞ»Ğ¸ĞµĞ½Ñ‚Ñ‹ (React Native / Flutter)
- [ ] ĞšĞ¾Ğ½ÑĞµĞ½ÑÑƒÑ-Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ´Ğ»Ñ ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
- [ ] IPFS-ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ»Ğ¸Ñ‰Ğµ
- [ ] Multi-GPU sharding Ğ½Ğ° Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑƒĞ·Ğ»Ğµ
- [ ] Streaming inference Ğ´Ğ»Ñ LLM
- [ ] ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ load balancing shards

## [LICENSE] Ğ›Ğ¸Ñ†ĞµĞ½Ğ·Ğ¸Ñ

MIT License
